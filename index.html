<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Loading...</title>
    <!-- Minimal styling for the loading message -->
    <style>
        body { font-family: Arial, sans-serif; background-color: #0b0f30; color: #fff; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .loader { font-size: 1.5em; }
    </style>
</head>
<body>

    <div class="loader">Loading Admin Panel...</div>

    <!-- Firebase Scripts are required to check authentication -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <!-- No App Check script is needed for this project -->

    <script>
        // UPDATED: This is the configuration for the 'best-movies-ug' project
        const firebaseConfig = {
            apiKey: "AIzaSyAzgjVQ5iXpCx93EF5sGbpIPn5_8ouieu8",
            authDomain: "best-movies-ug.firebaseapp.com",
            projectId: "best-movies-ug",
            storageBucket: "best-movies-ug.appspot.com",
            messagingSenderId: "569921014995",
            appId: "1:569921014995:web:c4e0c02679d4e67a33d826"
        };
        
        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth(app);

        // REMOVED: All App Check initialization code is gone.

        // The Redirect Logic
        auth.onAuthStateChanged(user => {
            if (user) {
                // If a user is logged in, redirect to the main dashboard page.
                // We use replace() so the user can't click the "back" button to get to this loading page.
                window.location.replace('add_from_tmdb.html');
            } else {
                // If no user is logged in, redirect to the login page.
                window.location.replace('login.html');
            }
        });
    </script>

</body>
</html>